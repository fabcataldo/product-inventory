<div class="container d-flex justify-content-center p-5">
  <ng-template [ngIf]="!product" [ngIfElse]="editProduct">
    <h1>Crear Nuevo Producto</h1>
  </ng-template>
  <ng-template #editProduct>
    <h1>Editar Producto</h1>
  </ng-template>

  <form [formGroup]="productForm" class="mb-3" (submit)="onSubmit($event)">
    <div class="field">
      <label for="nameFormControl">Nombre </label>
      <input
        type="text"
        pInputText
        formControlName="name"
        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
      />
      <span
        *ngIf="
          productForm.controls['name'].touched &&
          productForm.controls['name'].hasError('required')
        "
        class="text-red-400"
        >Campo requerido</span
      >
    </div>

    <div class="field">
      <label for="stockFormControl">Stock </label>
      <input
        type="number"
        pInputText
        formControlName="stock"
        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
      />
      <span
        *ngIf="
          productForm.controls['stock'].touched &&
          productForm.controls['stock'].hasError('required')
        "
        class="text-red-400"
        >Campo requerido</span
      >
    </div>

    <div class="field">
      <label for="priceFormControl">Precio </label>
      <input
        type="number"
        pInputText
        formControlName="price"
        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
      />
      <span
        *ngIf="
          productForm.controls['price'].touched &&
          productForm.controls['price'].hasError('required')
        "
        class="text-red-400"
        >Campo requerido</span
      >
    </div>

    <div class="field">
      <label for="categoriesFormControl">Categor√≠as</label>
      <p-treeSelect
        class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full"
        containerStyleClass="w-full"
        formControlName="category"
        [options]="categoriesTree"
        placeholder="Selecciona categoria/s"
        display="chip"
        [metaKeySelection]="false"
        selectionMode="multiple"
      ></p-treeSelect>
    </div>

    <div class="flex justify-content-end">
      <button
        pButton
        label="Guardar"
        type="submit"
        [loading]="loadingSubmitButton"
      ></button>
    </div>
  </form>
</div>
